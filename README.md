# **Скрипт на языке Python для создания резервных копий директорий и их загрузки на Yandex.Disk**



**<mark>Тестировалось и писалось для Ubuntu Server 20.04**</mark>



### Основные этапы работы скрипта:

1. *Импорт необходимых пакетов*: 
   
   os, zipfile, requests и configparser используются для выполнения скрипта и чтения настроек из файла конфигурации.

2. *Чтение настроек*: 
   
   Файл конфигурации config.cfg считывается с помощью configparser, чтобы получить настройки, включая пути к директориям и токен Yandex.Disk.

3. *Создание резервной копии (Backup)*: 
   
   Функция create_backup принимает указанные директории и создает резервную копию во временной директории /tmp. Резервная копия создается в формате ZIP с использованием zipfile.ZipFile.

4. *Загрузка (Upload) резервной копии на Yandex.Disk*: 
   
   Функция upload_to_yandex_disk принимает путь к файлу резервной копии и отправляет его на Yandex.Disk в соответствии с указанными настройками токена и пути. Для этого происходит отправка запроса GET на адрес https://cloud-api.yandex.net/v1/disk/resources/upload, после чего с использованием токена аутентификации получается URL для загрузки файла. Затем с помощью запроса PUT и данных файла файл загружается на Yandex.Disk.

5. *Функция start*: 
   
   Вызывает функции create_backup и upload_to_yandex_disk с использованием прочитанных настроек. Директории, для которых требуется создать резервную копию, определяются с помощью настройки в конфигурационном файле. После загрузки резервной копии на Yandex.Disk она удаляется.

### Установка и запуск:

1. Командой cd переходите в дерикторию в которой будет "жить" скрипт.

2. Клонируете репозиторий командой 
   
   ```shell
   git clone https://github.com/stirelshka8/YaBackUp.git
   ```

       или скачайте вручную и распакуйте в необходимой директории, для этого вверху        страницы нажмите ЗЕЛЕНУЮ кнопку Code и далее Download ZIP.

3. Установите необходимые зависимости командой
   
   ```bash
   pip install -r req.txt
   ```

4. Запустите скрипт командой
   
   ```bash
   python3 start.py
   ```
   
   
   
   Если все установилось и Меркурий находится на своем месте, то все заработает. 
